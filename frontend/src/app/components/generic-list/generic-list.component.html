<!-- FORM CREATE -->
<div>
  <h3>Ajouter</h3>
  <div *ngFor="let f of fields">
    <input
      [(ngModel)]="form[f]"
      [placeholder]="f"
    />
  </div>
  <button (click)="submit()">Ajouter</button>
</div>

<hr />

<!-- LIST -->
<table border="1">
  <tr>
    <th *ngFor="let f of fields">{{ f }}</th>
    <th>Actions</th>
  </tr>

  <tr *ngFor="let item of items">
    <td *ngFor="let f of fields">
      <input *ngIf="editingItem?._id === item._id"
             [(ngModel)]="editingItem[f]" />
      <span *ngIf="editingItem?._id !== item._id">
        {{ item[f] }}
      </span>
    </td>

    <td>
      <button *ngIf="editingItem?._id !== item._id"
              (click)="edit(item)">
        Modifier
      </button>

      <button *ngIf="editingItem?._id === item._id"
              (click)="save()">
        Sauver
      </button>

      <button (click)="delete(item._id)">
        Supprimer
      </button>
    </td>
  </tr>
</table>
